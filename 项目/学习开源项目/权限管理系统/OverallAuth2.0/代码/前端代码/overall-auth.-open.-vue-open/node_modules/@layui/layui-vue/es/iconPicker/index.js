import { w as l } from "../utils/index.js";
import { computed as a, inject as e, defineComponent as i, ref as s, openBlock as u, createBlock as n, withCtx as c, createElementVNode as o, createElementBlock as t, createVNode as r, createCommentVNode as p, Fragment as y, renderList as v, normalizeClass as d, unref as h, toDisplayString as f, withModifiers as g } from "vue";
import { i as m, _ as k } from "../checkbox/index2.js";
import { _ as b } from "../dropdown/index2.js";
import { _ as C } from "../scroll/index2.js";
import { _ as x } from "../input/index2.js";
import "../_chunks/@vueuse/index.js";
const w = ["size"], j = { class: "layui-iconpicker-main" }, _ = { class: "layui-icon-picker-clear" }, S = { class: "layui-iconpicker-suffix" }, z = { class: "layui-iconpicker-view layui-iconpicker-scroll" }, V = { key: 0, class: "layui-iconpicker-search" }, B = o("i", { class: "layui-icon layui-icon-search" }, null, -1), M = { class: "layui-iconpicker-list" }, A = ["onClick"], I = { class: "layui-elip" }, L = { key: 1, class: "layui-iconpicker-page" }, F = { id: "layui-laypage-1", class: "layui-laypage layui-laypage-default" }, H = { class: "layui-laypage-count" }, P = [o("i", { class: "layui-icon layui-icon-left" }, null, -1)], R = { class: "layui-laypage-curr" }, q = o("em", { class: "layui-laypage-em" }, null, -1), D = o("span", { class: "layui-laypage-spr" }, "\u2026", -1), E = o("a", { href: "javascript:;", class: "layui-laypage-last", title: "\u5C3E\u9875" }, "14", -1), G = [o("i", { class: "layui-icon layui-icon-right" }, null, -1)], J = l(i({ name: "LayIconPicker", props: { page: { type: Boolean, default: false }, modelValue: { default: "layui-icon-face-smile" }, disabled: { type: Boolean, default: false }, showSearch: { type: Boolean }, allowClear: { type: Boolean }, contentClass: null, contentStyle: null, size: null }, emits: ["update:modelValue", "change"], setup(l2, { emit: i2 }) {
  const J2 = l2, { size: K } = function(l3) {
    return { size: a(() => {
      const a2 = e("LayForm", {});
      return l3.size || a2.size || "md";
    }) };
  }(J2), N = a(() => J2.modelValue), O = s(null), Q = s(false), T = function() {
    i2("update:modelValue", "");
  }, U = a(() => null != J2.modelValue && "" != J2.modelValue), W = s([]), X = s(m.length), Y = s(Math.ceil(X.value / 12)), Z = s(1);
  J2.page ? W.value = m.slice(0, 12) : W.value = m;
  const $ = () => {
    const l3 = 12 * (Z.value - 1), a2 = l3 + 12;
    J2.page ? (W.value = m.slice(l3, a2), X.value = m.length, Y.value = Math.ceil(m.length / 12)) : W.value = m;
  }, ll = (l3) => {
    Z.value = 1;
    const a2 = 12 * (Z.value - 1), e2 = a2 + 12, i3 = l3;
    i3 ? J2.page ? (W.value = al(i3, m).slice(a2, e2), X.value = al(i3, m).length, Y.value = Math.ceil(al(i3, m).length / 12)) : W.value = al(i3, m) : J2.page ? (W.value = m.slice(a2, e2), X.value = m.length, Y.value = Math.ceil(m.length / 12)) : W.value = m;
  }, al = (l3, a2) => {
    for (var e2 = [], i3 = l3.charAt(0), s2 = l3.length, u2 = 0; u2 < a2.length; u2++) {
      var n2 = a2[u2], c2 = false;
      for (var o2 in n2)
        if ("function" == typeof n2[o2])
          n2[o2]();
        else {
          var t2 = "";
          null != n2[o2] && (t2 = n2[o2]);
          for (var r2 = 0; r2 < t2.length; r2++)
            if (t2.charAt(r2) == i3 && t2.substring(r2).substring(0, s2) == l3) {
              c2 = true;
              break;
            }
        }
      c2 && e2.push(n2);
    }
    return e2;
  };
  return (a2, e2) => (u(), n(b, { ref_key: "dropdownRef", ref: O, disabled: l2.disabled, contentClass: l2.contentClass, contentStyle: l2.contentStyle, onHide: e2[2] || (e2[2] = (l3) => Q.value = false), onShow: e2[3] || (e2[3] = (l3) => Q.value = true), updateAtScroll: "" }, { content: c(() => [o("div", z, [l2.showSearch ? (u(), t("div", V, [r(x, { onInput: ll, onClear: $, autocomplete: "true", "allow-clear": true }, { prefix: c(() => [B]), _: 1 })])) : p("", true), o("div", M, [r(C, { style: { height: "200px" }, thumbColor: "rgb(238, 238, 238)" }, { default: c(() => [o("ul", null, [(u(true), t(y, null, v(W.value, (l3) => (u(), t("li", { key: l3, class: d([h(N) === l3.class ? "layui-this" : ""]), onClick: (a3) => function(l4) {
    var _a;
    i2("update:modelValue", l4), i2("change", l4), (_a = O.value) == null ? void 0 : _a.hide();
  }(l3.class) }, [o("i", { class: d(["layui-icon", [l3.class]]) }, null, 2), o("p", I, f(l3.name), 1)], 10, A))), 128))])]), _: 1 })]), l2.page ? (u(), t("div", L, [o("div", F, [o("span", H, "\u5171 " + f(X.value) + " \u4E2A", 1), o("a", { href: "javascript:;", class: d(["layui-laypage-prev", [1 === Z.value ? "layui-disabled" : ""]]), onClick: e2[0] || (e2[0] = (l3) => (() => {
    if (1 === Z.value)
      return;
    Z.value = Z.value - 1;
    const l4 = 12 * (Z.value - 1), a3 = l4 + 12;
    W.value = m.slice(l4, a3);
  })()) }, P, 2), o("span", R, [q, o("em", null, f(Z.value) + " / " + f(Y.value), 1)]), D, E, o("a", { href: "javascript:;", class: d([[Z.value === Y.value ? "layui-disabled" : ""], "layui-laypage-next"]), onClick: e2[1] || (e2[1] = (l3) => (() => {
    if (Z.value === Y.value)
      return;
    Z.value = Z.value + 1;
    const l4 = 12 * (Z.value - 1), a3 = l4 + 12;
    W.value = m.slice(l4, a3);
  })()) }, G, 2)])])) : p("", true)])]), default: c(() => [o("div", { class: d(["layui-border-box layui-iconpicker layui-iconpicker-split", [{ "layui-iconpicker-disabled": l2.disabled, "has-content": h(U), "has-clear": l2.allowClear }]]), size: h(K) }, [o("div", j, [o("i", { class: d(["layui-icon", [h(N)]]) }, null, 2)]), o("span", _, [r(h(k), { type: "layui-icon-close-fill", onClick: g(T, ["stop"]) }, null, 8, ["onClick"])]), o("span", S, [o("i", { class: d(["layui-icon layui-icon-down", [Q.value ? "transform" : ""]]) }, null, 2)])], 10, w)]), _: 1 }, 8, ["disabled", "contentClass", "contentStyle"]));
} }));
export { J as default };
