import { w as e } from "../utils/index.js";
import { defineComponent as l, ref as s, inject as t, getCurrentInstance as a, computed as i, reactive as u, onMounted as p, onBeforeUnmount as f, openBlock as o, createElementBlock as v, Fragment as d, unref as r, mergeProps as n, toHandlers as m, createCommentVNode as c, normalizeClass as y, normalizeStyle as x, renderSlot as h } from "vue";
const I = e(l({ name: "LaySplitPanelItem", props: { space: { default: "" } }, setup(e2) {
  const l2 = e2, I2 = s(-1), g = t("laySplitPanel"), w = a(), k = s(false), B = i(() => /^\d+$/.test(l2.space + "") ? l2.space + "px" : l2.space), G = (e3) => {
    k.value = false;
  }, P = i(() => g.steps.value.length), S = (e3, l3) => {
    Array.from(H.value.children).forEach((s2, t2) => {
      0 !== t2 && t2 % 2 != 0 || (s2.style.flexBasis = s2[l3] / e3 * 100 + "%", s2.style.flexGrow = 0);
    });
  }, $ = (e3) => {
    let l3 = 0;
    W.value ? (l3 = H.value.offsetHeight, S(l3, "offsetHeight")) : (l3 = H.value.offsetWidth, S(l3, "offsetWidth")), k.value = true, g.moveChange(e3, true, W.value);
  }, H = i(() => g.target.value), W = i(() => g.props.vertical);
  i(() => {
    var _a;
    return ((_a = g.steps.value[P.value - 1]) == null ? void 0 : _a.itemId) === w.uid;
  });
  const j = i(() => {
    var _a;
    return ((_a = g.steps.value[0]) == null ? void 0 : _a.itemId) === w.uid;
  }), A = u({ itemId: i(() => w == null ? void 0 : w.uid), setIndex: (e3) => {
    I2.value = e3;
  }, space: B });
  return g.steps.value = [...g.steps.value, A], p(() => {
  }), f(() => {
    g.steps.value = g.steps.value.filter((e3) => e3.itemId !== w.uid);
  }), (e3, l3) => (o(), v(d, null, [r(j) ? c("", true) : (o(), v("div", n({ key: 0, class: [r(j) ? "" : "lay-split-panel-line"], ref: "el" }, m({ mousedown: $, mouseup: G }, true)), null, 16)), r(W) ? (o(), v("div", { key: 1, ref: "laySplitPanelItem", class: y(["lay-split-panel-item"]), style: x({ flexBasis: r(B), flexGrow: r(B) ? 0 : 1 }) }, [h(e3.$slots, "default")], 4)) : (o(), v("div", { key: 2, class: y(["lay-split-panel-item"]), style: x({ flexBasis: r(B), flexGrow: r(B) ? 0 : 1 }) }, [h(e3.$slots, "default")], 4))], 64));
} }));
export { I as default };
