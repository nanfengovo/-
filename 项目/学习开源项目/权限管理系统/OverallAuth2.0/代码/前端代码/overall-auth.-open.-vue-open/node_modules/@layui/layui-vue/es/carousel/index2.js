import { w as a } from "../utils/index.js";
import { defineComponent as e, inject as l, ref as t, computed as i, openBlock as u, createElementBlock as n, normalizeStyle as o, unref as r, renderSlot as s, useSlots as d, watch as p, provide as v, createElementVNode as c, Fragment as f, renderList as y, normalizeClass as m, withModifiers as h, toDisplayString as w, createCommentVNode as g } from "vue";
const b = ["data-id"], k = e({ name: "LayCarouselItem", props: { id: null }, setup(a2) {
  const e2 = a2, d2 = l("active"), p2 = l("slotsChange");
  p2.value = !p2.value;
  const v2 = l("anim"), c2 = t(), f2 = i(() => {
    if (c2.value) {
      let a3 = c2.value.parentNode.children, l2 = a3.length, t2 = 0, i2 = 0;
      for (let l3 = 0; l3 < a3.length; l3++) {
        const u3 = a3[l3];
        u3.getAttribute("data-id") === d2.value && (t2 = l3), u3.getAttribute("data-id") === e2.id && (i2 = l3);
      }
      let u2 = t2 > 0 ? t2 - 1 : l2 - 1, n2 = t2 + 1 < l2 ? t2 + 1 : 0, o2 = v2.value;
      return t2 === i2 ? "updown" === o2 ? { transform: "translateY(0)", visibility: "inherit" } : o2.includes("fade") ? { opacity: 1, visibility: "inherit" } : { transform: "translateX(0)", visibility: "inherit" } : u2 === i2 ? "updown" === o2 ? { transform: "translateY(-100%)" } : o2.includes("fade") ? { opacity: 0 } : { transform: "translateX(-100%)" } : n2 === i2 ? "updown" === o2 ? { transform: "translateY(100%)" } : o2.includes("fade") ? { opacity: 0 } : { transform: "translateX(100%)" } : { display: "none" };
    }
  });
  return (e3, l2) => (u(), n("li", { ref_key: "item", ref: c2, style: o(r(f2)), "data-id": a2.id }, [s(e3.$slots, "default")], 12, b));
} }), C = ["lay-anim", "lay-indicator", "lay-arrow"], I = { "carousel-item": "" }, V = { class: "layui-carousel-ind" }, x = ["onClick"], H = e({ name: "LayCarousel", props: { width: { default: "100%" }, height: { default: "280px" }, modelValue: null, autoplay: { type: Boolean, default: true }, arrow: { default: "hover" }, anim: { default: "default" }, indicator: { default: "inside" }, pauseOnHover: { type: Boolean, default: true }, interval: { default: 3e3 } }, emits: ["update:modelValue", "change"], setup(a2, { emit: e2 }) {
  const l2 = a2, b2 = d(), H2 = b2.default && b2.default(), O2 = i({ get: () => l2.modelValue, set(a3) {
    e2("update:modelValue", a3);
  } }), X = i(() => l2.anim), Y = t([]), A = t(true), B = function(a3) {
    const e3 = a3 == null ? void 0 : a3.filter((a4) => "v-if" != a4.children);
    e3 == null ? void 0 : e3.map((a4) => {
      a4.type.name != k.name ? B(a4.children) : Y.value.push(a4);
    });
  };
  p(A, () => {
    Y.value = [], B(b2.default && b2.default());
  }, { immediate: true, deep: true });
  const L = () => {
    var _a, _b, _c;
    for (var a3 = 0; a3 < Y.value.length; a3++)
      if (((_a = Y.value[a3].props) == null ? void 0 : _a.id) === O2.value) {
        O2.value = 0 === a3 ? (_b = Y.value[H2.length - 1].props) == null ? void 0 : _b.id : (_c = Y.value[a3 - 1].props) == null ? void 0 : _c.id;
        break;
      }
  }, M = () => {
    var _a, _b, _c;
    for (var a3 = 0; a3 < Y.value.length; a3++)
      if (((_a = Y.value[a3].props) == null ? void 0 : _a.id) === O2.value) {
        a3 === Y.value.length - 1 ? O2.value = (_b = Y.value[0].props) == null ? void 0 : _b.id : O2.value = (_c = Y.value[a3 + 1].props) == null ? void 0 : _c.id;
        break;
      }
  }, $ = () => {
    var _a, _b, _c;
    for (var a3 = 0; a3 < Y.value.length; a3++)
      if (((_a = Y.value[a3].props) == null ? void 0 : _a.id) === O2.value) {
        a3 === Y.value.length - 1 ? O2.value = (_b = Y.value[0].props) == null ? void 0 : _b.id : O2.value = (_c = Y.value[a3 + 1].props) == null ? void 0 : _c.id;
        break;
      }
  };
  let _ = 0;
  const j = () => {
    l2.autoplay && l2.pauseOnHover && _ && (window.clearInterval(_), _ = 0);
  }, N = () => {
    l2.autoplay && l2.pauseOnHover && (_ = window.setInterval($, l2.interval));
  };
  return p(() => l2.autoplay, () => {
    l2.autoplay && (_ = window.setInterval($, l2.interval));
  }, { immediate: true }), v("active", O2), v("slotsChange", A), v("anim", X), (l3, t2) => (u(), n("div", { class: "layui-carousel", "lay-anim": r(X), "lay-indicator": a2.indicator, "lay-arrow": a2.arrow, style: o({ width: a2.width, height: a2.height }), onMouseenter: j, onMouseleave: N }, [c("div", I, [s(l3.$slots, "default")]), Y.value.length > 1 ? (u(), n(f, { key: 0 }, [c("div", V, [c("ul", null, [(u(true), n(f, null, y(Y.value, (a3, l4) => {
    var _a;
    return u(), n("li", { key: l4, class: m([((_a = a3.props) == null ? void 0 : _a.id) === r(O2) ? "layui-this" : ""]), onClick: h((l5) => {
      var _a2;
      return t3 = (_a2 = a3.props) == null ? void 0 : _a2.id, e2("change", t3), void (O2.value = t3);
      var t3;
    }, ["stop"]) }, null, 10, x);
  }), 128))])]), c("button", { class: "layui-icon layui-carousel-arrow", "lay-type": "sub", onClick: L }, w("updown" === r(X) ? "\uE619" : "\uE603"), 1), c("button", { class: "layui-icon layui-carousel-arrow", "lay-type": "add", onClick: M }, w("updown" === r(X) ? "\uE61A" : "\uE602"), 1)], 64)) : g("", true)], 44, C));
} }), O = a(H);
export { k as _, H as a, O as c };
