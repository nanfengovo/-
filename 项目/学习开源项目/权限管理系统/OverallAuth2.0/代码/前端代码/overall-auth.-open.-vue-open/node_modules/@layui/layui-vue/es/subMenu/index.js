import { w as e } from "../utils/index.js";
import { defineComponent as l, inject as i, computed as s, openBlock as t, createBlock as n, unref as a, withCtx as u, createElementVNode as o, normalizeClass as c, renderSlot as d, createElementBlock as p, createCommentVNode as r, createVNode as v, useSlots as y, ref as m, watchEffect as f, normalizeStyle as x, createSlots as h } from "vue";
import { _ as k } from "../transition/index2.js";
import { _ as $ } from "../dropdown/index2.js";
import { _ as b } from "../checkbox/index2.js";
import { u as j, p as g } from "../useLevel/index.js";
import { i as _ } from "../utils/index2.js";
import "../_chunks/@vueuse/index.js";
const I = { class: "layui-nav-item" }, T = { href: "javascript:void(0)", style: { "justify-content": "space-between" } }, w = { key: 0, class: "layui-sub-menu-icon" }, C = { key: 1 }, M = { key: 0, class: "layui-nav-more" }, S = l({ name: "SubMenuPopup", props: { id: null, title: null }, setup(e2) {
  const { level: l2 } = j(), y2 = i("isTree"), m2 = i("menuTheme"), f2 = s(() => "light" === m2.value ? "-light" : ""), x2 = s(() => y2.value ? "layui-icon-right" : 2 === l2.value ? "layui-icon-down" : "layui-icon-right"), h2 = s(() => y2.value || 2 !== l2.value ? "right-start" : "bottom");
  return (e3, l3) => (t(), n($, { trigger: "hover", class: "layui-sub-menu-popup", placement: a(h2), autoFitMinWidth: false, updateAtScroll: true, contentOffset: 3 }, { content: u(() => [o("div", { class: c(["layui-sub-menu-popup-content", `layui-sub-menu-popup-theme${a(f2)}`]) }, [d(e3.$slots, "default")], 2)]), default: u(() => [o("li", I, [o("a", T, [o("div", null, [e3.$slots.icon ? (t(), p("i", w, [d(e3.$slots, "icon")])) : r("", true), e3.$slots.title ? (t(), p("span", C, [d(e3.$slots, "title")])) : r("", true)]), e3.$slots.expandIcon ? (t(), p("span", M, [d(e3.$slots, "expandIcon", {}, () => [v(a(b), { type: a(x2) }, null, 8, ["type"])])])) : r("", true)])])]), _: 3 }, 8, ["placement"]));
} }), K = { key: 0, class: "layui-nav-item" }, L = { key: 0, class: "layui-sub-menu-icon" }, O = { key: 1, class: "layui-nav-more" }, P = { key: 0 }, A = { class: "layui-nav-child" }, E = e(l({ name: "LaySubMenu", props: { id: null, title: null }, setup(e2) {
  const l2 = e2, v2 = y(), { level: $2 } = j(), b2 = i("isTree");
  i("selectedKey");
  const I2 = i("openKeys"), T2 = i("indent"), w2 = i("isCollapse"), C2 = i("isCollapseTransition"), M2 = s(() => I2.value.includes(l2.id || "")), E2 = s(() => $2.value + 1);
  g(E2);
  const F = m(false);
  f(() => {
    if (b2.value) {
      const e3 = true === w2.value || "true" === w2.value;
      e3 && 1 === $2.value ? setTimeout(() => {
        F.value = b2.value && e3;
      }, 200) : F.value = b2.value && e3;
    } else
      v2.default && v2.default().length > 0 && (F.value = true);
  });
  return (i2, s2) => F.value ? (t(), n(S, { key: 1, id: e2.id }, h({ expandIcon: u(() => [d(i2.$slots, "expandIcon")]), default: u(() => [d(i2.$slots, "default")]), _: 2 }, [a(v2).icon ? { name: "icon", fn: u(() => [d(i2.$slots, "icon")]), key: "0" } : void 0, a(v2).title ? { name: "title", fn: u(() => [d(i2.$slots, "title")]), key: "1" } : void 0]), 1032, ["id"])) : (t(), p("li", K, [o("a", { href: "javascript:void(0)", onClick: s2[0] || (s2[0] = (e3) => function() {
    if (!w2.value) {
      let e4 = [...I2.value];
      I2.value.includes(l2.id || "") ? e4.splice(e4.indexOf(l2.id || ""), 1) : e4.push(l2.id || ""), I2.value = e4;
    }
  }()), style: x(a(_)({ indent: a(T2), level: a($2), basePadding: 23, isTree: a(b2) })) }, [a(v2).icon ? (t(), p("i", L, [d(i2.$slots, "icon")])) : r("", true), o("span", null, [a(v2).title ? d(i2.$slots, "title", { key: 0 }) : r("", true)]), a(v2).expandIcon ? (t(), p("i", O, [d(i2.$slots, "expandIcon", { isExpand: a(M2) })])) : (t(), p("i", { key: 2, class: c([a(M2) ? "layui-nav-mored" : "", "layui-icon layui-icon-down", "layui-nav-more"]) }, null, 2))], 4), a(b2) ? (t(), n(k, { key: 0, enable: a(C2) }, { default: u(() => [a(M2) ? (t(), p("div", P, [o("dl", A, [d(i2.$slots, "default")])])) : r("", true)]), _: 3 }, 8, ["enable"])) : r("", true)]));
} }));
export { E as default };
