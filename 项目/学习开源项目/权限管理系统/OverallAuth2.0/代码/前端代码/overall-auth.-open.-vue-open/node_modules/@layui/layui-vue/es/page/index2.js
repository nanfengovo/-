import { w as e } from "../utils/index.js";
import { defineComponent as a, useSlots as l, ref as u, computed as t, watch as i, openBlock as s, createElementBlock as v, createElementVNode as o, toDisplayString as n, unref as p, createCommentVNode as y, normalizeClass as c, renderSlot as r, createTextVNode as m, Fragment as g, renderList as h, withDirectives as d, vModelSelect as f, withKeys as k, vModelText as w } from "vue";
import { u as C } from "../datePicker/index2.js";
const b = { class: "layui-laypage layui-laypage-default" }, j = { style: { display: "none" } }, V = { key: 0, class: "layui-laypage-count" }, x = o("a", { class: "layui-laypage-spr" }, "...", -1), B = { key: 0, class: "layui-laypage-curr" }, P = ["onClick"], L = o("a", { class: "layui-laypage-spr" }, "...", -1), M = { key: 2, class: "layui-laypage-limits" }, R = ["value"], S = [o("i", { class: "layui-icon layui-icon-refresh" }, null, -1)], U = { key: 4, class: "layui-laypage-skip" }, $ = ["disabled"], I = a({ name: "LayPage", props: { total: null, limit: { default: 10 }, theme: null, showPage: { type: Boolean, default: false }, showSkip: { type: Boolean, default: false }, showCount: { type: Boolean, default: false }, showLimit: { type: Boolean, default: true }, showInput: { type: Boolean, default: false }, showRefresh: { type: Boolean, default: false }, pages: { default: 10 }, limits: { default: () => [10, 20, 30, 40, 50] }, modelValue: { default: 1 } }, emits: ["update:modelValue", "update:limit", "change"], setup(e2, { emit: a2 }) {
  const I2 = e2, { t: K2 } = C();
  l();
  const T = u(0), _ = u(I2.limits), q = t(() => Math.floor(I2.pages / 2)), z = u(I2.modelValue), A = u(z.value), D = u(I2.limit);
  i(() => I2.limit, () => {
    D.value = I2.limit;
  });
  const E = t(() => {
    T.value = Math.ceil(I2.total / D.value);
    let e3 = [];
    for (let a3 = T.value <= I2.pages ? 1 : z.value > q.value ? T.value - z.value + 1 < q.value ? z.value - (q.value + (q.value - (T.value - z.value + 1))) : z.value - q.value : 1; !(e3.length >= I2.pages || a3 > T.value); a3++)
      e3.push(a3);
    return e3;
  }), F = (e3) => {
    z.value = e3, a2("change", { current: z.value, limit: D.value });
  }, G = () => {
    z.value = A.value, a2("change", { current: z.value, limit: D.value });
  }, H = () => {
    const e3 = Math.ceil(I2.total / D.value);
    z.value > e3 && (z.value = e3), a2("change", { current: z.value, limit: D.value });
  }, J = () => {
    a2("change", { current: z.value, limit: D.value });
  };
  return i(D, () => {
    a2("update:limit", D.value);
  }), i(z, () => {
    const e3 = E.value[0], l2 = E.value[E.value.length - 1];
    z.value > l2 && (z.value = l2), z.value < e3 && (z.value = e3), A.value = z.value, a2("update:modelValue", z.value);
  }), i(() => I2.modelValue, () => {
    z.value = I2.modelValue, A.value = z.value;
  }), (l2, u2) => (s(), v("div", b, [o("div", j, n(p(E)), 1), e2.showCount ? (s(), v("span", V, n(p(K2)("page.total")) + " " + n(e2.total) + " " + n(p(K2)("page.item")), 1)) : y("", true), o("a", { href: "javascript:;", class: c(["layui-laypage-prev", [1 === z.value ? "layui-disabled" : "", e2.theme && 1 !== z.value ? "layui-laypage-a-" + e2.theme : ""]]), onClick: u2[0] || (u2[0] = (e3) => {
    1 !== z.value && (z.value--, a2("change", { current: z.value, limit: D.value }));
  }) }, [r(l2.$slots, "prev", {}, () => [m(n(p(K2)("page.previous")), 1)])], 2), e2.showPage ? (s(), v(g, { key: 1 }, [1 != p(E)[0] ? (s(), v(g, { key: 0 }, [o("a", { href: "javascript:;", class: "layui-laypage-first", onClick: u2[1] || (u2[1] = (e3) => F(1)) }, " 1 "), x], 64)) : y("", true), (s(true), v(g, null, h(p(E), (a3) => (s(), v(g, { key: a3 }, [a3 === z.value ? (s(), v("span", B, [o("em", { class: c(["layui-laypage-em", [e2.theme ? "layui-bg-" + e2.theme : ""]]) }, null, 2), o("em", null, n(a3), 1)])) : (s(), v("a", { key: 1, href: "javascript:;", onClick: (e3) => F(a3), class: c([e2.theme ? "layui-laypage-a-" + e2.theme : ""]) }, n(a3), 11, P))], 64))), 128)), p(E)[p(E).length - 1] != T.value ? (s(), v(g, { key: 1 }, [L, o("a", { href: "javascript:;", class: "layui-laypage-last", onClick: u2[2] || (u2[2] = (e3) => F(T.value)) }, n(T.value), 1)], 64)) : y("", true)], 64)) : y("", true), o("a", { href: "javascript:;", class: c(["layui-laypage-next", [z.value === T.value || 0 === T.value ? "layui-disabled" : "", e2.theme && z.value !== T.value && 0 !== T.value ? "layui-laypage-a-" + e2.theme : ""]]), onClick: u2[3] || (u2[3] = (e3) => {
    z.value !== T.value && 0 !== T.value && (z.value++, a2("change", { current: z.value, limit: D.value }));
  }) }, [r(l2.$slots, "next", {}, () => [m(n(p(K2)("page.next")), 1)])], 2), e2.showLimit ? (s(), v("span", M, [d(o("select", { "onUpdate:modelValue": u2[4] || (u2[4] = (e3) => D.value = e3), onChange: H }, [(s(true), v(g, null, h(_.value, (e3) => (s(), v("option", { key: e3, value: e3 }, n(e3) + " " + n(p(K2)("page.item")) + "/" + n(p(K2)("page.page")), 9, R))), 128))], 544), [[f, D.value]])])) : y("", true), e2.showRefresh ? (s(), v("a", { key: 3, href: "javascript:;", onClick: J, class: "layui-laypage-refresh" }, S)) : y("", true), I2.showSkip ? (s(), v("span", U, [m(n(p(K2)("page.goTo")) + " ", 1), d(o("input", { "onUpdate:modelValue": u2[5] || (u2[5] = (e3) => A.value = e3), onKeypress: u2[6] || (u2[6] = k((e3) => G(), ["enter"])), type: "number", class: "layui-input layui-input-number" }, null, 544), [[w, A.value]]), m(n(p(K2)("page.page")) + " ", 1), o("button", { type: "button", class: "layui-laypage-btn", onClick: u2[7] || (u2[7] = (e3) => G()), disabled: A.value > T.value || A.value == z.value }, n(p(K2)("page.confirm")), 9, $)])) : y("", true)]));
} }), K = e(I);
export { I as _, K as c };
