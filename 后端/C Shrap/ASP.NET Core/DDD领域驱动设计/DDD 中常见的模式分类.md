DDD 中的模式可以大致分为以下几类，每一类对应不同的设计需求：

#### **1. 战略性模式（Strategic Patterns）**

这些模式关注领域模型的整体设计和上下文边界的划分。

- **限界上下文（Bounded Context）**  
    定义系统中子域的边界以及每个子域的职责，避免跨上下文的耦合。
- **上下文映射（Context Mapping）**  
    描述限界上下文之间的关系，包括共享内核（Shared Kernel）、反腐层（Anti-Corruption Layer, ACL）等。

#### **2. 战术性模式（Tactical Patterns）**

这些模式用于细化领域模型的实现。

- **实体（Entity）**  
    具有唯一标识的领域对象，其生命周期和状态可变（如用户、订单）。
- **值对象（Value Object）**  
    不可变且无唯一标识的对象，用于描述某些属性（如货币金额、地址）。
- **聚合（Aggregate）**  
    定义一组强相关的领域对象，以及它们的一致性边界。
- **聚合根（Aggregate Root）**  
    聚合的入口点，控制对聚合内其他对象的访问。
- **领域服务（Domain Service）**  
    处理不属于单一实体或值对象的复杂领域逻辑。
- **工厂（Factory）**  
    用于创建复杂对象和聚合，确保模型的一致性。
- **仓储（Repository）**  
    提供一种抽象，用于从持久化存储中访问聚合。

#### **3. 辅助模式（Supporting Patterns）**

这些模式帮助解决领域模型之外的技术实现问题。

- **反腐层（Anti-Corruption Layer, ACL）**  
    在不同上下文之间建立隔离层，防止外部模型的变更影响领域模型。
- **规范（Specification）**  
    定义业务规则的检查逻辑，用于筛选或验证领域对象。

---

### **举例说明：模式在实际中的作用**

假设你在开发一个电商平台，其中的领域模型涉及订单、用户、支付等模块。

#### **1. 实体和值对象**

- **实体**：订单（Order），需要有唯一标识（订单号）并且其状态会发生变化（如待支付、已支付）。
- **值对象**：地址（Address），描述用户的送货信息，但它本身不可变，且没有唯一标识。

#### **2. 聚合和聚合根**

- **聚合**：订单聚合包含订单项、总金额等信息。
- **聚合根**：订单对象作为聚合根，确保对订单项的操作遵循业务规则（如订单总金额与订单项价格一致）。

#### **3. 领域服务**

支付逻辑可能涉及多个聚合（订单、支付方式），可以通过领域服务实现统一的业务逻辑管理。

#### **4. 限界上下文**

将支付功能划分为独立的上下文，与订单上下文解耦。通过上下文映射定义两者之间的关系。